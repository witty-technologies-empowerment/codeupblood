$('#tele').on('input', function () {
	//Nigerian mobile number prefixes from the four major telcos - MTN, GLO, AIRTEL & ETISALAT
	var telcoPrefixes = [703, 706, 803, 806, 810, 813, 814, 816, 903, 705, 805, 811, 815, 905, 701, 708, 802, 808, 812, 902, 809, 817, 818, 909, 804];
	//search array for specific values
	function in_array(value, array) {
		var index = array.indexOf(value);
		if (index == -1) {
			return false;
		} else {
			return index;
		}
	}
	//error div
	var errorDiv = document.getElementById("error");
	//phone number text field
	var phoneInput = $(this).val()
	var dialingCode, mobilePrefix, checkArray;
	// phoneInput.addEventListener("change",function(){
	//get value from textbox
	phoneInputValue = phoneInput;
	//get value length
	var inputLength = phoneInputValue.length;
	// var inputLength = phoneInputValue;
	//if length is less than the required length of 14
    if (phoneInputValue.startsWith('+') || phoneInputValue.startsWith('+234') || phoneInputValue.startsWith('234')) {
		if (inputLength < 13) {
			var letters = /^[A-Za-z]+$/;
			var letterNumber = /^[0-9a-zA-Z]+$/;
			if (phoneInputValue.match(letters)) {
				$('#error').empty().html(`
                    <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
                        Invalid Telephone Number
                    </div>
                `).fadeIn('slow')
			} else if (phoneInputValue.match(letterNumber)) {
				var arr = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
				jQuery.each(arr, function (i, val) {
					if (phoneInputValue.includes(val)) {
						$('#error').empty().html(`
                            <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
                                Invalid Telephone Number
                            </div>
                        `).fadeIn('slow')
					}
					// $( "#" + val ).text( "Mine is " + val + "." );
				})
			} else {
				if (inputLength == 0) {
					$('#error').fadeOut(5000).empty()
				} else {
					// errorDiv.innerHTML = "";
					$('#error').empty().html(`
                    <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
                    Invalid Telephone Length 
                    </div>
                    `).fadeIn('slow')
				}
			}
			//if length is equal to 11 (070xxxxxxxx)
		} else if (inputLength === 13) {
			//get mobile number prefix - 706 or 703 - depending on telco
			mobilePrefix = Number(phoneInputValue.substr(3, 3));
			//get dialling code from mobile number
			dialingCode = Number(phoneInputValue.substr(0, 3));
			//check if mobile prefix exists in telcoPrefixes array		
			checkArray = in_array(mobilePrefix, telcoPrefixes);
			var letterNumber = /^[0-9a-zA-Z]+$/;
			if (phoneInputValue.match(letterNumber)) {
				var arr = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
				jQuery.each(arr, function (i, val) {
					if (phoneInputValue.includes(val)) {
						$('#error').empty().html(`
                                <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
                                    Invalid Telephone Number
                                </div>
                            `).fadeIn('slow')
					}
					// $( "#" + val ).text( "Mine is " + val + "." );
				})
			} else if (checkArray === false) {
				$('#error').empty().html(`
                        <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
                        Invalid Telephone 
                        </div>
                        `).fadeIn('slow')

			} else if ((checkArray >= 0) && (dialingCode === 234)) {
				$('#error').empty().html(`
                        <div style=" background-color: #F7FFF0;border-color: #8CCB57;color:#000;" class="alert alert-success alert-dismissible fade show with-icon" role="alert">
                        Great Valid Telephone  
                        </div>
                        `).fadeIn('slow')
			} else {
				$('#error').empty().html(`
                        <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
                        Invalid Telephone 
                        </div>
                        `).fadeIn('slow')

			}
			//if length is equal to 14 (+23470xxxxxxxx)
		} else if (inputLength === 14) {
			//get mobile number prefix from entered value
			mobilePrefix = Number(phoneInputValue.slice(4, 7));
			getMobile = phoneInputValue.slice(1, 14);
			//get dialling code from mobile number - +234
			dialingCode = phoneInputValue.slice(0, 4);
			//check if prefix exists in mobile prefix array
			checkArray = in_array(mobilePrefix, telcoPrefixes);
			//if prefix not found in array
			var letterNumber = /^[0-9a-zA-Z+]+$/;
			var Numbers = /^[0-9]+$/;
            if ((checkArray >= 0) && (dialingCode === "+234")) {
                if(getMobile.match(Numbers)){
				$('#error').empty().html(`
                        <div style=" background-color: #F7FFF0;border-color: #8CCB57;color:#000;" class="alert alert-success alert-dismissible fade show with-icon" role="alert">
                        Great Valid Telephone  
                        </div>
                        `).fadeIn('slow')
                }
			} else if (checkArray === false) {
				$('#error').empty().html(`
                        <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
                        Invalid Telephone 
                        </div>
                        `).fadeIn('slow')
				//if found in array
			} else if (phoneInputValue.match(letterNumber)) {
				var arr = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
				jQuery.each(arr, function (i, val) {
					if (phoneInputValue.includes(val)) {
						$('#error').empty().html(`
                                <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
                                    Invalid Telephone Number
                                </div>
                            `).fadeIn('slow')
					}
					// $( "#" + val ).text( "Mine is " + val + "." );
				})
			} else {
				$('#error').empty().html(`
                        <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
                        Invalid Telephone 
                        </div>
                        `).fadeIn('slow')
			}
		} else if (inputLength > 14) {
			$('#error').empty().html(`
        <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
        Invalid Telephone Length
        </div>
        `).fadeIn('slow')
		}
	}else if (phoneInputValue.startsWith('0')) {
		if (inputLength <= 11) {
			var letters = /^[A-Za-z]+$/;
			var letterNumber = /^[0-9a-zA-Z]+$/;
			if (phoneInputValue.match(letters)) {
				$('#error').empty().html(`
                    <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
                        Invalid Telephone Number
                    </div>
                `).fadeIn('slow')
			} else if (phoneInputValue.match(letterNumber)) {
				var arr = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
				jQuery.each(arr, function (i, val) {
					if (phoneInputValue.includes(val)) {
						$('#error').empty().html(`
                            <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
                                Invalid Telephone Number
                            </div>
                        `).fadeIn('slow')
					}
					// $( "#" + val ).text( "Mine is " + val + "." );
				})
			} else {
				if (inputLength == 0) {
					$('#error').fadeOut(5000).empty()
				} else {
					// errorDiv.innerHTML = "";
					$('#error').empty().html(`
                    <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
                    Invalid Telephone Length 
                    </div>
                    `).fadeIn('slow')
				}
			}
			//if length is equal to 11 (070xxxxxxxx)
		} else if (inputLength === 11 || inputLength === 10) {
			//get mobile number prefix - 706 or 703 - depending on telco
			mobilePrefix = Number(phoneInputValue.substr(1, 3));
			firstFigure = Number(phoneInputValue[0]);
			//check if mobile prefix exists in telcoPrefixes array
			checkArray = in_array(mobilePrefix, telcoPrefixes);
			var letterNumber = /^[0-9a-zA-Z]+$/;
			if (phoneInputValue.match(letterNumber)) {
				var arr = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
				jQuery.each(arr, function (i, val) {
					if (phoneInputValue.includes(val)) {
						$('#error').empty().html(`
                                    <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
                                        Invalid Telephone Number
                                    </div>
                                `).fadeIn('slow')
					}
					// $( "#" + val ).text( "Mine is " + val + "." );
				})
			} else if (checkArray === false) {
				$('#error').empty().html(`
                            <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
                            Invalid Telephone 
                            </div>
                            `).fadeIn('slow')
			} else if (checkArray > 0 && firstFigure === 0) {
				$('#error').empty().html(`
                            <div style=" background-color: #F7FFF0;border-color: #8CCB57;color:#000;" class="alert alert-success alert-dismissible fade show with-icon" role="alert">
                            Great Valid Telephone  
                            </div>
                            `).fadeIn('slow')
				// $('#error').fadeOut('fast')
			} else {
				$('#error').empty().html(`
                            <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-success alert-dismissible fade show with-icon" role="alert">
                            Invalid Telephone 
                            </div>
                            `).fadeIn('slow')
			}
			//if length is equal to 13 (23470xxxxxxxx)
		} else if (inputLength > 11) {
			$('#error').empty().html(`
            <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
            Invalid Telephone Length
            </div>
            `).fadeIn('slow')
		}
	} else  if (inputLength === 0) {
		$('#error').fadeOut(5000).empty()
	} else {
		$('#error').empty().html(`
        <div style=" background-color: #fff8e1;border-color: #f1cb4b;color:#000;" class="alert alert-warning alert-dismissible fade show with-icon" role="alert">
        Invalid Telephone 
        </div>
        `).fadeIn('slow')
	}
	// });
})